 <!DOCTYPE html>
<html lang="ko" xmlns:th="https://www.thymeleaf.org/" 
	xmlns:layout="https://github.com/ultraq/thymeleaf-layout-dialect/"
  	class="light-style layout-wide customizer-hide" dir="ltr" data-theme="theme-default"
  	data-assets-path="assets/admin/" data-template="vertical-menu-template" data-style="light">
<head>
<meta charset="UTF-8">
<th:block
	th:replace="~{common/configs/admin/admin_config :: AdminConfigFragment}"></th:block>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>
<body>
	<div class="container-xxl">
		<div class="authentication-wrapper authentication-basic container-p-y">
			<div class="authentication-inner py-6">
			  <div class="card">
				<div class="card-body">
					<div class="contact-form d-flex justify-content-center">
						<form class="mf_form_validate ajax_submit" name="insertForm"
							id="frm" th:action="@{/memberInsert}" method="post" th:object="${memberVO}">
							<h4 class="mb-1">íšŒì›ê°€ì… ğŸš€</h4>
							<table id="table">
								<tr class="mb-6 fv-plugins-icon-container">
									<th>ì•„ì´ë””</th>
									<td><input class="form-control" type="text" name="userId" th:errorclass="error-input" th:field="*{userId}">
									<div class="error-class" th:if="${#fields.hasErrors('userId')}" th:errors="*{userId}"></div></td>
									<td><button type="button" class="btn btn-primary d-grid w-100 waves-effect waves-light" id="idck">ì¤‘ë³µì²´í¬</button></td>
								</tr>
								
								<tr>
									<th>ë¹„ë°€ë²ˆí˜¸</th>
									<td><input class="form-control" type="text" name="userPw" th:errorclass="error-input" th:field="*{userPw}">
									<div class="error-class" th:if="${#fields.hasErrors('userPw')}" th:errors="*{userPw}"></div></td>
						
								</tr>
								<tr>
									<th>ë¹„ë°€ë²ˆí˜¸í™•ì¸</th>
									<td><input class="form-control" type="text" name="userPwck" th:errorclass="error-input" th:field="*{userPwck}">
									<div class="error-class" th:if="${#fields.hasErrors('userPwck')}" th:errors="*{userPwck}"></div></td>
								</tr>
								<tr>
									<th>ì´ë¦„</th>
									<td><input class="form-control" type="text" name="name" th:errorclass="error-input" th:field="*{name}">
									<div class="error-class" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div></td>
								</tr>
								<tr>
									<th>ë³„ëª…</th>
									<td><input class="form-control" type="text" name="nickName" th:errorclass="error-input" th:field="*{nickName}">
									<div class="error-class" th:if="${#fields.hasErrors('nickName')}" th:errors="*{nickName}"></div></td>
								</tr>
								<tr>
									<th>ì£¼ì†Œ</th>
									<td><input class="form-control" type="text" name="address" th:errorclass="error-input" th:field="*{address}">
									<div class="error-class" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></div></td>
								</tr>
								<tr>
									<th>ì´ë©”ì¼</th>
									<td><input class="form-control" type="text" name="email" th:errorclass="error-input" th:field="*{email}">
									<div class="error-class" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div></td>
								</tr>
								<tr>
									<th>íœ´ëŒ€ì „í™”</th>
									<td><input class="form-control" type="text" name="phone" th:errorclass="error-input" th:field="*{phone}">
									<div class="error-class" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></div></td>
								</tr>
								<tr id="posi">
									<th>ì§í•¨</th>
									<td class="form-check">
									<input type="radio" name="position"value="ì˜ë¢°ì¸" th:errorclass="error-input"> 
									<label for="option1">ì˜ë¢°ì¸</label> 
									<input type="radio" name="position" value="ë´‰ì‚¬ì¸" th:errorclass="error-input"> 
									<label for="option2">ë´‰ì‚¬ì¸</label> 
									<input type="radio" name="position" value="ë„ê·¸ì›Œì»¤" th:errorclass="error-input"> 
									<label for="option3">ë„ê·¸ì›Œì»¤</label>
									</td>
								</tr>
								<tr id="intention">
									<th>ì˜ë„</th>
									<td><input class="form-control" type="text" name="intention"></td>
								</tr>
								<tr id="client">
									<th></th>
									<td><textarea class="form-control" placeholder="*ì• ì™„ê²¬ í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ì¶”ê°€ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea></td>
								</tr>
								<tr id="dogwalk">
									<th></th>
									<td><textarea class="form-control" placeholder="*ë„ê·¸ì›Œì»¤ í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ì¶”ê°€ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea></td>
								</tr>
								<tr>
									<th></th>
									<td><button type="submit" id="formCheck"
											class="btn btn-primary d-grid w-100 waves-effect waves-light">íšŒì›ê°€ì…</button></td>
								</tr>
							</table>
						</form>
					</div>
				</div>
			  </div>
			</div>
		</div>
	</div>
	<script>
	//ë¡œë”©ì‹œì 
	$(document).ready(function() {
	
	        $('#intention').hide();
	        $('#client').hide();
	        $('#dogwalk').hide();
	   
	//ì„ íƒì‹œì 
	  $("input[name='position']").change(function(){
	        if($(this).val() == "ë´‰ì‚¬ì¸"){
		        $('#client').hide();
		        $('#dogwalk').hide();
	            $('#intention').show();
	        } else if($(this).val() == "ì˜ë¢°ì¸") {
	            $('#intention').hide();
	            $('#dogwalk').hide();
	            $('#client').show();
	        } else if($(this).val() == "ë„ê·¸ì›Œì»¤"){
	        	$('#client').hide();
	            $('#intention').hide();
	        	$('#dogwalk').show();
	        }
	    });
	});
	
	//ì¤‘ë³µì²´í¬
	let idck = true;
	let pwck = true;
	
	$('#idck').on('click',()=>{
		let userId = $("input[name='userId']").val();
		
		$.ajax({
			url : 'idCheck',
			method : 'post',
			data : {userId}
		})
		.done(result => {
			console.log(result);
			if(result.cnt > 0){
				alert("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì•„ì´ë””ì…ë‹ˆë‹¤.");
				  $("input[name='userId']").focus();
			}else{
				alert("ì‚¬ìš©ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤.");
				idck = false;
			}
		})
	})
	
	//ë¹„ë°€ë²ˆí˜¸ í™•ì¸
	$("input[name='userPwck']").change(function(){
		
		if($("input[name='userPw']").val() == $("input[name='userPwck']").val()){
			
			alert("ë¹„ë°€ë²ˆê°€ ì¼ì¹˜í•©ë‹ˆë‹¤.");
			pwck = false;

			
		}else{
			
			alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
			$("input[name='userPwck']").focus();
		}
	});

	$('.form-control').css('margin-left', '10px');
	$('.btn').css('margin-left', '10px');
	$('.error-class').css('margin-left', '25px');
	$('.error-class').css('color', 'red');
	
	</script>
</body>
</html>