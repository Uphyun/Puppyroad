<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.puppyroad.app.saleschart.mapper.SalesChartMapper">

<select id="salesChartInfo" resultType="SalesChartVO">
	SELECT 	PAYMENT_CODE
		   ,SENDER
		   ,RECIPIENT
		   ,PRICE
		   ,ORDER_NAME
		   ,METHOD
		   ,PURCHASED_AT
		   ,STATUS
		   ,RECIPIENT
	FROM   PAYMENT
	WHERE  RECIPIENT = #{recipient}
</select>

<select id="salesChartList" resultType="SalesVO">
	SELECT sum(PRICE) as price
		   ,(TO_CHAR(PURCHASED_AT, 'yy/MM')) as month
	FROM   PAYMENT
	WHERE  RECIPIENT = #{recipient}
    group by (TO_CHAR(PURCHASED_AT, 'yy/MM'))
    order by 2 asc
</select>

</mapper>